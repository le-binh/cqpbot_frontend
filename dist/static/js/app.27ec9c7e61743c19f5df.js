webpackJsonp([1],{"+2zc":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper",on:{click:t.onViewPageDetail}},[n("el-card",{staticClass:"card",attrs:{"body-style":{padding:"0px"}}},[n("img",{staticClass:"image",attrs:{src:t.page.avatar}}),t._v(" "),n("div",{staticClass:"right"},[n("span",{staticClass:"name"},[t._v(t._s(t.page.name))]),t._v(" "),n("div",{staticClass:"bottom"},[t.page.active?n("span",{staticClass:"status"},[t._v("Đã kích hoạt")]):n("span",{staticClass:"status"},[t._v("Chưa kích hoạt")]),t._v(" "),n("el-button",{staticClass:"button",attrs:{type:"danger"}},[t._v("Huỷ")])],1)])])],1)},r=[],i={render:a,staticRenderFns:r};e.a=i},"+GlM":function(t,e){},"0cud":function(t,e){},"24E3":function(t,e,n){"use strict";n.d(e,"a",function(){return p});var a=n("Xxa5"),r=n.n(a),i=n("exGp"),s=n.n(i),c=n("Zs2m"),u=n("Goo1"),o=n("IcnI"),l=this,p=function(){var t=s()(r.a.mark(function t(){var e,n;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.a.get(u.b,{headers:{Authorization:"Bearer "+o.a.state.auth.shopToken}});case 3:if(e=t.sent,n=e.data,!n.meta.success){t.next=9;break}return t.abrupt("return",n.data);case 9:return t.abrupt("return",[]);case 10:t.next=15;break;case 12:return t.prev=12,t.t0=t.catch(0),t.abrupt("return",[]);case 15:case"end":return t.stop()}},t,l,[[0,12]])}));return function(){return t.apply(this,arguments)}}()},"2JcJ":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("span",{staticClass:"welcome-title"},[t._v("Chào mừng đến với ứng dụng Autobot")]),t._v(" "),n("el-button",{staticClass:"use-app-button",attrs:{type:"primary"},on:{click:t.startUsingApp}},[t._v("Sử dụng ứng dụng ngay")])],1)},r=[],i={render:a,staticRenderFns:r};e.a=i},"4wck":function(t,e,n){"use strict";function a(t){n("0cud")}var r=n("nk5R"),i=n("G1Ig"),s=n("VU/8"),c=a,u=s(r.a,i.a,!1,c,"data-v-b53a022e",null);e.a=u.exports},"5B07":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("SideBar",{attrs:{items:t.links,active:t.activePath}})],1)},r=[],i={render:a,staticRenderFns:r};e.a=i},"5nRO":function(t,e,n){"use strict";var a=n("T55L");e.a={name:"Page-Detail",components:{PageDetailSideBar:a.a}}},"7jdm":function(t,e,n){"use strict";var a,r=n("bOdI"),i=n.n(r),s=n("Du/2"),c=n("24E3"),u={pages:[],loading:!0},o={allPages:function(t){return t.pages}},l={getAllPages:function(t){var e=t.commit;e(s.h),Object(c.a)().then(function(t){e(s.c),e(s.e,{pages:t})})}},p=(a={},i()(a,s.e,function(t,e){var n=e.pages;t.pages=n}),i()(a,s.h,function(t){t.loading=!0}),i()(a,s.c,function(t){t.loading=!1}),a);e.a={state:u,getters:o,actions:l,mutations:p}},"9DX9":function(t,e,n){"use strict";var a=n("9yBg"),r=n("hioI"),i=n("VU/8"),s=i(a.a,r.a,!1,null,null,null);e.a=s.exports},"9yBg":function(t,e,n){"use strict";e.a={name:"CustomerGroup"}},AjbJ:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,stripe:"","row-style":"cursor: pointer"},on:{"row-click":t.handleRowClicked}},[n("el-table-column",{attrs:{prop:"name",label:"Tên chiến dịch",width:"250"}}),t._v(" "),n("el-table-column",{attrs:{prop:"type",label:"Loại",width:"150"}}),t._v(" "),n("el-table-column",{attrs:{prop:"total",label:"Số lượng"}}),t._v(" "),n("el-table-column",{attrs:{prop:"sent",label:"Đã gửi"}}),t._v(" "),n("el-table-column",{attrs:{prop:"read",label:"Đã đọc"}}),t._v(" "),n("el-table-column",{attrs:{prop:"clicked",label:"Đã click"}}),t._v(" "),n("el-table-column",{attrs:{prop:"interacted",label:"Đã tương tác"}})],1)},r=[],i={render:a,staticRenderFns:r};e.a=i},BU7s:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("span",[t._v("Training")])])}],i={render:a,staticRenderFns:r};e.a=i},"D+VX":function(t,e,n){"use strict";var a,r=n("bOdI"),i=n.n(r),s=n("Xxa5"),c=n.n(s),u=n("d7EF"),o=n.n(u),l=n("exGp"),p=n.n(l),d=n("Du/2"),f=n("p0QZ"),m=n("Q98j"),g={shopToken:void 0,loggingIn:!1,checkingLoginStatus:!0},h={isLoggedIn:function(t){return void 0!==t.shopToken},loading:function(t){return t.loggingIn||t.checkingLoginStatus}},v={login:function(t){var e=this,n=t.commit;return p()(c.a.mark(function t(){var a,r,i,s,u;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(d.i),t.next=3,Object(f.b)();case 3:if(a=t.sent){t.next=7;break}return n(d.d),t.abrupt("return",!1);case 7:return r=o()(a,2),i=r[0],s=r[1],t.next=10,Object(m.a)(i,s);case 10:if(u=t.sent){t.next=14;break}return n(d.d),t.abrupt("return",!1);case 14:return n(d.f,{shopToken:u}),n(d.d),t.abrupt("return",!0);case 17:case"end":return t.stop()}},t,e)}))()},checkLoginStatus:function(t){var e=this,n=t.commit;return p()(c.a.mark(function t(){var a,r,i,s,u;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return n(d.g),t.next=3,Object(f.a)();case 3:if(a=t.sent){t.next=7;break}return n(d.b),t.abrupt("return",!1);case 7:return r=o()(a,2),i=r[0],s=r[1],t.next=10,Object(m.a)(i,s);case 10:if(u=t.sent){t.next=14;break}return n(d.b),t.abrupt("return",!1);case 14:return n(d.f,{shopToken:u}),n(d.b),t.abrupt("return",!0);case 17:case"end":return t.stop()}},t,e)}))()}},_=(a={},i()(a,d.f,function(t,e){var n=e.shopToken;t.shopToken!==n&&(t.shopToken=n)}),i()(a,d.a,function(t){t.shopToken=void 0}),i()(a,d.i,function(t){t.loggingIn=!0}),i()(a,d.d,function(t){t.loggingIn=!1}),i()(a,d.g,function(t){t.checkingLoginStatus=!0}),i()(a,d.b,function(t){t.checkingLoginStatus=!1}),a);e.a={state:g,getters:h,actions:v,mutations:_}},DDQq:function(t,e,n){"use strict";e.a={name:"CampaignDetail"}},"Du/2":function(t,e,n){"use strict";n.d(e,"f",function(){return a}),n.d(e,"a",function(){return r}),n.d(e,"e",function(){return i}),n.d(e,"h",function(){return s}),n.d(e,"c",function(){return c}),n.d(e,"g",function(){return u}),n.d(e,"b",function(){return o}),n.d(e,"i",function(){return l}),n.d(e,"d",function(){return p});var a="SAVE_USER_CREDENTIALS",r="CLEAR_USER_CREDENTIALS",i="RECEIVE_ALL_PAGES",s="START_LOADING_PAGES",c="FINISH_LOADING_PAGES",u="START_CHECKING_LOGIN_STATUS",o="FINISH_CHECKING_LOGIN_STATUS",l="START_LOGIN",p="FINISH_LOGIN"},Fs8J:function(t,e,n){"use strict";e.a={name:"Home",methods:{startUsingApp:function(){this.$router.push({path:"/login"})}}}},G1Ig:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"wrapper"},[n("span",{staticClass:"title"},[t._v("Danh sách fanpage của tôi")]),t._v(" "),t._l(t.pages,function(e,a){return n("PageItem",{key:e._id,attrs:{page:e},on:{viewPageDetail:t.viewPageDetail}})})],2)},r=[],i={render:a,staticRenderFns:r};e.a=i},Gbvd:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("span",[t._v("Customer")])])}],i={render:a,staticRenderFns:r};e.a=i},Goo1:function(t,e,n){"use strict";n.d(e,"a",function(){return a}),n.d(e,"b",function(){return r});var a="/sessions/facebook",r="/pages"},HXfX:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":t.active,router:!0}},t._l(t.items,function(e){return n("el-menu-item",{key:e.path,attrs:{index:e.path}},[n("i",{class:e.icon}),t._v(" "),n("span",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.title))])])}))],1)},r=[],i={render:a,staticRenderFns:r};e.a=i},IcnI:function(t,e,n){"use strict";var a=n("7+uW"),r=n("NYxO"),i=n("D+VX"),s=n("7jdm");a.default.use(r.a),e.a=new r.a.Store({modules:{auth:i.a,myPages:s.a}})},M93x:function(t,e,n){"use strict";var a=n("xJD8"),r=n("SUZ6"),i=n("VU/8"),s=i(a.a,r.a,!1,null,null,null);e.a=s.exports},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=n("7+uW"),r=n("zL8q"),i=n.n(r),s=n("tvR6"),c=(n.n(s),n("M93x")),u=n("YaEn"),o=n("IcnI");a.default.config.productionTip=!1,a.default.use(i.a),new a.default({el:"#app",router:u.a,store:o.a,template:"<App/>",components:{App:c.a}})},PmVp:function(t,e,n){"use strict";var a=n("zvck"),r=n("HXfX"),i=n("VU/8"),s=i(a.a,r.a,!1,null,null,null);e.a=s.exports},PmVw:function(t,e,n){"use strict";var a=n("cF05"),r=n("AjbJ"),i=n("VU/8"),s=i(a.a,r.a,!1,null,null,null);e.a=s.exports},PqVR:function(t,e,n){"use strict";function a(t){n("QbST")}var r=n("5nRO"),i=n("srlt"),s=n("VU/8"),c=a,u=s(r.a,i.a,!1,c,null,null);e.a=u.exports},Q98j:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var a=n("Xxa5"),r=n.n(a),i=n("exGp"),s=n.n(i),c=n("Zs2m"),u=n("Goo1"),o=this,l=function(){var t=s()(r.a.mark(function t(e,n){var a,i;return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,c.a.post(u.a,{token:e,fbAppId:n});case 3:if(a=t.sent,i=a.data,!i.meta.success){t.next=7;break}return t.abrupt("return",i.data.token);case 7:t.next=11;break;case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}},t,o,[[0,9]])}));return function(e,n){return t.apply(this,arguments)}}()},"QId/":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"wrapper"},[n("div",{staticClass:"login-form",class:{hidden:t.hideLoginForm}},[n("span",{staticClass:"login-title"},[t._v("Cần đăng nhập để sử dụng")]),t._v(" "),n("el-button",{staticClass:"login-button",attrs:{type:"primary"},on:{click:t.loginClicked}},[t._v("Đăng nhập với Facebook")])],1)])},r=[],i={render:a,staticRenderFns:r};e.a=i},QbST:function(t,e){},SUZ6:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},r=[],i={render:a,staticRenderFns:r};e.a=i},T55L:function(t,e,n){"use strict";var a=n("d2HW"),r=n("5B07"),i=n("VU/8"),s=i(a.a,r.a,!1,null,null,null);e.a=s.exports},Uv5v:function(t,e,n){"use strict";var a=n("DDQq"),r=n("kSw0"),i=n("VU/8"),s=i(a.a,r.a,!1,null,null,null);e.a=s.exports},YaEn:function(t,e,n){"use strict";var a=n("7+uW"),r=n("/ocq"),i=n("lO7g"),s=n("PqVR"),c=n("xJsL"),u=n("PmVw"),o=n("bBZf"),l=n("g2Qj"),p=n("d5kq"),d=n("9DX9"),f=n("4wck"),m=n("Uv5v"),g=n("IcnI");a.default.use(r.a);var h=new r.a({routes:[{path:"/",name:"Home",component:i.a},{path:"/login",name:"Login",component:c.a},{path:"/pages",name:"MyPages",component:f.a,meta:{requiresAuth:!0}},{path:"/pages/:id/campaigns",component:s.a,children:[{path:"",name:"Campaign",component:u.a,meta:{requiresAuth:!0}},{path:"/pages/:id/campaigns/:campaign_id",name:"CampaignDetail",component:m.a,meta:{requiresAuth:!0}}]},{path:"/pages/:id/training",component:s.a,children:[{path:"",name:"Training",component:o.a,meta:{requiresAuth:!0}}]},{path:"/pages/:id/new-arrival",component:s.a,children:[{path:"",name:"NewArrival",component:l.a,meta:{requiresAuth:!0}}]},{path:"/pages/:id/customer",component:s.a,children:[{path:"",name:"Customer",component:p.a,meta:{requiresAuth:!0}}]},{path:"/pages/:id/customer-group",component:s.a,children:[{path:"",name:"CustomerGroup",component:d.a,meta:{requiresAuth:!0}}]}],mode:"history"});h.beforeEach(function(t,e,n){t.matched.some(function(t){return t.meta.requiresAuth})?g.a.getters.isLoggedIn?n():n({path:"/login",query:{redirect:t.fullPath}}):n()}),e.a=h},Zs2m:function(t,e,n){"use strict";var a=n("mtWM"),r=n.n(a),i={baseURL:"https://dm-autobot.herokuapp.com",timeout:2e4};e.a=r.a.create(i)},bBZf:function(t,e,n){"use strict";var a=n("hWOV"),r=n("BU7s"),i=n("VU/8"),s=i(a.a,r.a,!1,null,null,null);e.a=s.exports},cF05:function(t,e,n){"use strict";e.a={data:function(){return{tableData:[{name:"Sinh nhật quán",type:"Gửi ngay",total:1e3,sent:1e3,read:950,clicked:900,interacted:500},{name:"Thứ 2 cuối mỗi tháng",type:"Gửi theo lịch",total:1e3,sent:1e3,read:950,clicked:900,interacted:500}]}},methods:{handleRowClicked:function(t){this.$router.push({name:"CampaignDetail",params:{campaign_id:1}})}}}},d2HW:function(t,e,n){"use strict";var a=n("PmVp");e.a={name:"PageDetailSideBar",components:{SideBar:a.a},data:function(){var t=this.$router.currentRoute.params.id;return{links:[{path:"/pages/"+t+"/campaigns/",icon:"el-menu-icon",title:"Chiến dịch"},{path:"/pages/"+t+"/training/",icon:"el-menu-icon",title:"Huấn luyện"},{path:"/pages/"+t+"/new-arrival/",icon:"el-menu-icon",title:"Hàng mới về"},{path:"/pages/"+t+"/customer/",icon:"el-menu-icon",title:"Khách hàng"},{path:"/pages/"+t+"/customer-group/",icon:"el-menu-icon",title:"Nhóm khách hàng"}],activePath:"/pages/"+t+"/campaigns/"}},mounted:function(){console.log(this.$router.currentRoute),console.log(this.$route),this.activePath=this.$router.currentRoute.fullPath}}},d5kq:function(t,e,n){"use strict";var a=n("nIg1"),r=n("Gbvd"),i=n("VU/8"),s=i(a.a,r.a,!1,null,null,null);e.a=s.exports},g2Qj:function(t,e,n){"use strict";var a=n("z11A"),r=n("nm2Q"),i=n("VU/8"),s=i(a.a,r.a,!1,null,null,null);e.a=s.exports},hWOV:function(t,e,n){"use strict";e.a={name:"Campaign"}},hioI:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("span",[t._v("Customer Group")])])}],i={render:a,staticRenderFns:r};e.a=i},hsGP:function(t,e){},kL4U:function(t,e){},kSw0:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("span",[t._v("Campaign Detail")])])}],i={render:a,staticRenderFns:r};e.a=i},kx4n:function(t,e,n){"use strict";e.a={name:"PageItem",props:["page"],methods:{onViewPageDetail:function(){this.$emit("viewPageDetail",this.page._id)}}}},lO7g:function(t,e,n){"use strict";function a(t){n("kL4U")}var r=n("Fs8J"),i=n("2JcJ"),s=n("VU/8"),c=a,u=s(r.a,i.a,!1,c,"data-v-06bce884",null);e.a=u.exports},nIg1:function(t,e,n){"use strict";e.a={name:"Customer"}},"nKb+":function(t,e,n){"use strict";var a=n("Dd8w"),r=n.n(a),i=n("NYxO");e.a={name:"Login",computed:r()({},Object(i.c)({loading:"loading"}),Object(i.d)({hideLoginForm:function(t){return t.auth.checkingLoginStatus}})),methods:r()({},Object(i.b)(["checkLoginStatus","login"]),{loginClicked:function(){this.login().then(this.redirectOrShowError)},waitForFBToCheckLoginStatus:function(){var t=this;isFBLoaded?this.checkLoginStatus().then(this.redirectOrShowError):setTimeout(function(){t.waitForFBToCheckLoginStatus()},500)},redirectOrShowError:function(t){t&&this.$router.push({path:this.$route.query.redirect||"/pages"})}}),mounted:function(){this.waitForFBToCheckLoginStatus()}}},nk5R:function(t,e,n){"use strict";var a=n("Dd8w"),r=n.n(a),i=n("NYxO"),s=n("vC3p");e.a={name:"My-Pages",components:{PageItem:s.a},computed:r()({},Object(i.c)({pages:"allPages"}),Object(i.d)({loading:function(t){return t.myPages.loading}})),methods:r()({},Object(i.b)(["getAllPages"]),{viewPageDetail:function(t){this.$router.push({name:"Campaign",params:{id:t}})}}),created:function(){this.getAllPages()}}},nm2Q:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"wrapper"},[n("span",[t._v("New Arrival")])])}],i={render:a,staticRenderFns:r};e.a=i},p0QZ:function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return c});var a=n("//Fk"),r=n.n(a),i=function(t){if("connected"===t.status){return[t.authResponse.accessToken,t.authResponse.userID]}},s=function(){return new r.a(function(t){FB.getLoginStatus(function(e){t(i(e))})})},c=function(){return new r.a(function(t){FB.login(function(e){t(i(e))},{scope:"public_profile,email,manage_pages"})})}},srlt:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"navbar"},[n("PageDetailSideBar")],1),t._v(" "),n("div",{staticClass:"content"},[n("router-view")],1)])},r=[],i={render:a,staticRenderFns:r};e.a=i},tvR6:function(t,e){},vC3p:function(t,e,n){"use strict";function a(t){n("hsGP")}var r=n("kx4n"),i=n("+2zc"),s=n("VU/8"),c=a,u=s(r.a,i.a,!1,c,"data-v-44d96421",null);e.a=u.exports},xJD8:function(t,e,n){"use strict";e.a={name:"app"}},xJsL:function(t,e,n){"use strict";function a(t){n("+GlM")}var r=n("nKb+"),i=n("QId/"),s=n("VU/8"),c=a,u=s(r.a,i.a,!1,c,"data-v-95165acc",null);e.a=u.exports},z11A:function(t,e,n){"use strict";e.a={name:"NewArrival"}},zvck:function(t,e,n){"use strict";e.a={name:"SideBar",props:["items","active"]}}},["NHnr"]);
//# sourceMappingURL=app.27ec9c7e61743c19f5df.js.map